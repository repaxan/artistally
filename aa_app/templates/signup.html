{% extends "includes/helper.html" %}

{% block head %}
    <title>Artistally Signup</title>
    <script>
        function signup() {
            var jsonDict = new Object();
            jsonDict.username = $("#userField").val();
            jsonDict.password = $("#passField1").val();
            jsonDict.email = $("#emailField").val();
            if (jsonDict.password != $("#passField2").val()) {
                alert("Your passwords do not match, please try again.");
            } else {
                $.ajax({
                    url: "/api/user/newUser",
                    type: "POST",
                    contentType: "application/json",
                    data: JSON.stringify(jsonDict),
                    success: function(response) {
                        window.location.href = "/";
                    },
                    error: function(response) {
                        alert("newUser went wrong");
                    },
                });
            }
        }
    </script>
{% endblock %}

{% block body %}

<div class="containery">
    <div class="centered centery">
        <div class="reg-form-wrapper">
            <sub><a href="\">&laquo; Go back home</a></sub>
            <br/>
            <h3>User Registration</h3>
            <br/>
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="login-addon"><i class="fa fa-user"></i></span>
                <input type="text" class="form-control" id="userField" placeholder="Username" aria-describedby="login-addon"/>
            </div>
<!--            <input type="text" class="login-reg-input" id="userField" placeholder="username"/>-->
            <br/>
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="password1-addon"><i class="fa fa-key"></i></span>
                <input type="password" class="form-control" id="passField1" placeholder="Password" aria-describedby="password1-addon"/>
            </div>
<!--            <input type="password" class="login-reg-input" id="passField1" placeholder="password"/>-->
            <br/>
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="password2-addon"><i class="fa fa-key"></i></span>
                <input type="password" class="form-control" id="passField2" placeholder="Re-enter password" aria-describedby="password2-addon"/>
            </div>
<!--            <input type="password" class="login-reg-input" id="passField2" placeholder="reenter password"/>-->
            <br/>
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="email-addon"><i class="fa fa-envelope"></i></span>
                <input type="email" class="form-control" id="emailField" placeholder="Email" aria-describedby="login-addon"/>
            </div>
<!--            <input type="email" class="login-reg-input" id="emailField" placeholder="email"/>-->
            <br/>
            <br/>
            <button onclick="signup()" class="btn btn-custom-blue wide">Register</button>
            <br/>
            <br/><sub><a href="/login">Login with existing account</a></sub>
        </div>
    </div>
</div>
{% endblock %}
